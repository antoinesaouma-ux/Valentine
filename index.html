<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Chats qui fuient la souris ğŸ±</title>

<style>
body {
  margin: 0;
  background: #000;
  height: 100vh;
  overflow: hidden;
}

/* ğŸ± CHAT */
.cat {
  position: absolute;
  width: 32px;
  height: 32px;

  background-image: url("image/cat.png");
  background-repeat: no-repeat;
  image-rendering: pixelated;

  transform: scale(4);
  transform-origin: center;
}
</style>
</head>

<body>

<script>
/* ===============================
   RÃ‰GLAGES DU SPRITE SHEET
   =============================== */
const FRAME_W = 32;
const FRAME_H = 32;

/* ğŸ–±ï¸ souris */
let mouseX = window.innerWidth / 2;
document.addEventListener("mousemove", e => {
  mouseX = e.clientX;
});

/* ===============================
   DÃ‰FINITION DES LIGNES
   (indices Ã  adapter si besoin)
   =============================== */
const animations = {
  walk: {
    row: 6,        // âœ… ligne ROUGE (marche)
    frames: 8,
    speed: 120,
    move: 1.3
  },
  run: {
    row: 8,        // âœ… autre ligne ROUGE (course)
    frames: 8,
    speed: 80,
    move: 2.4
  },
  idle: {
    row: 7,        // ğŸ”µ ligne BLEUE (statique)
    frames: 4,
    speed: 350,
    move: 0        // âŒ ne se dÃ©place pas
  }
};

/* ===============================
   CRÃ‰ATION Dâ€™UN CHAT
   =============================== */
function createCat({ x, y, anim }) {
  const cat = document.createElement("div");
  cat.className = "cat";
  document.body.appendChild(cat);

  let posX = x;
  const posY = y;      // âœ… Y BLOQUÃ‰
  let frame = 0;
  let dir = 1;

  let currentAnim = animations[anim];

  /* ğŸï¸ animation sprite */
  setInterval(() => {
    cat.style.backgroundPosition =
      `-${frame * FRAME_W}px -${currentAnim.row * FRAME_H}px`;

    frame += dir;
    if (frame === currentAnim.frames - 1 || frame === 0) dir *= -1;
  }, currentAnim.speed);

  /* ğŸ­ fuite souris */
  setInterval(() => {
    const dx = posX - mouseX;

    if (Math.abs(dx) < 300 && currentAnim.move > 0) {
      if (dx < 0) {
        posX -= currentAnim.move;
        cat.style.transform = "scale(4) scaleX(-1)";
      } else {
        posX += currentAnim.move;
        cat.style.transform = "scale(4) scaleX(1)";
      }
    }

    posX = Math.max(-50, Math.min(window.innerWidth - 50, posX));

    cat.style.left = posX + "px";
    cat.style.top = posY + "px";
  }, 16);
}

/* ===============================
   CHATS SUR Lâ€™Ã‰CRAN
   =============================== */
createCat({ x: 200, y: 260, anim: "walk" }); // ğŸ”´ bouge
createCat({ x: 500, y: 340, anim: "run" });  // ğŸ”´ bouge
createCat({ x: 800, y: 420, anim: "idle" }); // ğŸ”µ ne bouge pas
</script>

</body>
</html>
